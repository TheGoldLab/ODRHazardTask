function mymatrix = cell2num(mycells, padding)% mymatrix = cell2num(mycells, padding)%   a function to convert a cell array containing nothing but scalars and%   empty cells to a numeric matrix, where the empty cells are filled with%   the value indicated in the padding argument.%%   If you feed this routine a cell array with at least one cell containing%   anything but a numeric scalar or an empty array, this routine will barf.%%   Oh and please don't feed it cell arrays with more than two dimensions.% RCS info: $Id$%% jpg 5/20/98 - out of *extreme* frustration and irritationif nargin<2, padding = 0; endmymatrix = zeros(size(mycells));y_dim = size(mycells,1);x_dim = size(mycells,2);for y = 1:y_dim  for x = 1:x_dim    if isempty(mycells{y,x}), mymatrix(y,x)=padding;    else      if iscell(mycells{y,x}(1)) | length(mycells{y,x})>1 | isstruct(mycells{y,x}(1))	error('Please see the help for this routine.');      else	mymatrix(y,x)=mycells{y,x};      end    end  endend